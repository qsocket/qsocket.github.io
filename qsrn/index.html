<!doctype html><html lang=en><head><meta charset=utf-8><link rel="shortcut icon" href=https://www.qsocket.io/favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><title>QSocket Relay Network - QSocket</title><meta name=author content="faptain"><meta property="og:url" content="https://www.qsocket.io/qsrn/"><meta property="og:site_name" content="QSocket"><meta property="og:title" content="QSocket Relay Network"><meta property="og:description" content="The relay server is the back bone of the QSocket project. It is designed for relaying the incoming QSocket connections with high performance and scalability. The official relay instance for the QSocket project gate.qsocket.io is available for public use totally free of charge. But we advise everyone to setup their own relays on their own infrastructure.
Benchmarks A single qsr instance with a 2GB RAM and 1 CPU cores can handle between 30.000/45.000 simultaneous relay connections."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta name=twitter:card content="summary"><meta name=twitter:title content="QSocket Relay Network"><meta name=twitter:description content="The relay server is the back bone of the QSocket project. It is designed for relaying the incoming QSocket connections with high performance and scalability. The official relay instance for the QSocket project gate.qsocket.io is available for public use totally free of charge. But we advise everyone to setup their own relays on their own infrastructure.
Benchmarks A single qsr instance with a 2GB RAM and 1 CPU cores can handle between 30.000/45.000 simultaneous relay connections."><link rel=stylesheet href=/style.min.b8f57de03cdd4312a4e40e9fb9bc33e6b5e5db3d0b9e0070cb80d566e7bbe5929b73ee0319835dd07c9c2ac6cb5bb96bdca7c19cde16e698fb573a14d80526a5.css integrity="sha512-uPV94DzdQxKk5A6fubwz5rXl2z0LngBwy4DVZue75ZKbc+4DGYNd0HycKsbLW7lr3KfBnN4W5pj7VzoU2AUmpQ=="><link rel=stylesheet href=/lib/css/prism.min.6226f06f992e0d6166b0e26724efd050dcc381202a752892ba523b1b865de2ea5e427f8f7d10de682fc35d6e7444018247d1f25db5e1e3bab17068ce191c5886.css integrity="sha512-Yibwb5kuDWFmsOJnJO/QUNzDgSAqdSiSulI7G4Zd4upeQn+PfRDeaC/DXW50RAGCR9HyXbXh47qxcGjOGRxYhg=="><script async src="https://www.googletagmanager.com/gtag/js?id=G-MNS1QE3TTP"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MNS1QE3TTP")}</script><script>"theme"in localStorage||(localStorage.theme="light"),localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")</script><script defer src=/js/header.64a5d751579791aca02cca13ec10c056a8bb0de07cc69a70f0ef401bb0f470f2360e07f1f6f4398e0681f9abd2c64b3cb9d167ee471fa2a07bb1943e06e0c02b.js integrity="sha512-ZKXXUVeXkaygLMoT7BDAVqi7DeB8xppw8O9AG7D0cPI2Dgfx9vQ5jgaB+avSxks8udFn7kcfoqB7sZQ+BuDAKw=="></script><script defer src=/js/zooming.684b5d075bf94d0adfa21a7e7eb9acec1ddfb2e7b47d6657981617f0db0cf50949f1172801595afa3051f51b28d67f6a2d0c41be677b59b564307d9dbe4a4fd2.js integrity="sha512-aEtdB1v5TQrfohp+frms7B3fsue0fWZXmBYX8NsM9QlJ8RcoAVla+jBR9Rso1n9qLQxBvmd7WbVkMH2dvkpP0g=="></script><script defer src=/js/prism.ea52843de9ef49f2fd5ada5a4e0efb81dd05ae250cb815846dfa3fb988498c70ae2cc567a635da79ffd407054622cea929e1b5fa00977f69c48e373b728cb9cd.js integrity="sha512-6lKEPenvSfL9WtpaTg77gd0FriUMuBWEbfo/uYhJjHCuLMVnpjXaef/UBwVGIs6pKeG1+gCXf2nEjjc7coy5zQ==" data-manual></script><script defer src=/js/search-en.d001a478d3ea13d1b318ec5f1c41f803d09d25cfdd6a50ac7e7b08f6635e1a85f3004ac92ef1a6cc467ba604096dad4cfdb44404fa694c5210f46bb80732048a.js integrity="sha512-0AGkeNPqE9GzGOxfHEH4A9CdJc/dalCsfnsI9mNeGoXzAErJLvGmzEZ7pgQJba1M/bREBPppTFIQ9Gu4BzIEig=="></script></head><body><header><div id=header_left><div id=sidebar_btn><input type=checkbox id=sidebar_btn_input class=hidden>
<label id=sidebar_btn_label for=sidebar_btn_input><svg id="menu_icon" width="26" height="26" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</svg>
</label><label id=sidebar_canvas_overlay_wrapper for=sidebar_btn_input><div id=sidebar_canvas_overlay></div></label><div id=sidebar><ul><li><a href=/about/>About</a></li><li><a href=/qsrn/>QSRN</a></li><li><a href=/examples/>Examples</a></li><li><a href=/faqs/>FAQs</a></li></ul></div></div><div class=brand><div><a href=/>QSocket</a></div></div></div><div class=toolbox><div id=theme_tool><svg id="dark_mode_btn" class="toolbox-btn" width="18" height="18" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</svg>
<svg id="light_mode_btn" class="toolbox-btn" width="18" height="18" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></svg></div><div id=search_tool><svg id="search_btn" class="toolbox-btn" width="18" height="18" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></svg><div id=search_menu_wrapper class=hidden><div id=search_menu><div id=search_menu_toolbar><div id=search_menu_input_wrapper><input id=search_menu_input type=text placeholder='Search Posts'></div><div id=search_menu_close_btn><svg width="18" height="18" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></svg></div></div><div id=search_menu_results></div></div></div></div></div></header><nav id=navbar class=pure-menu><ul class=pure-menu-list><li class="navbar-item pure-menu-item"><a href=/about/ class=pure-menu-link>About</a></li><li class="navbar-item pure-menu-item active"><a href=/qsrn/ class=pure-menu-link>QSRN</a></li><li class="navbar-item pure-menu-item"><a href=/examples/ class=pure-menu-link>Examples</a></li><li class="navbar-item pure-menu-item"><a href=/faqs/ class=pure-menu-link>FAQs</a></li></ul></nav><main><div id=content class=content-margin><div class=content-margin><article><div align=center><img src=../../qsrn.png><br></div><p>The relay server is the back bone of the QSocket project. It is designed for relaying the incoming QSocket connections with high performance and scalability. The official relay instance for the QSocket project <code>gate.qsocket.io</code> is available for public use totally free of charge. But we advise everyone to setup their own relays on their own infrastructure.</p><h2 id=benchmarks class=header-anchor-wrapper>Benchmarks
<a href=#benchmarks class=header-anchor-link><svg width="16" height="16" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg></svg></a></h2><p>A single qsr instance with a <strong>2GB RAM</strong> and <strong>1 CPU cores</strong> can handle between <strong>30.000/45.000 simultaneous relay connections</strong>.</p><h2 id=installation class=header-anchor-wrapper>Installation
<a href=#installation class=header-anchor-link><svg width="16" height="16" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg></svg></a></h2><p><strong>The <strong>qsocket-relay</strong> is still in beta stage. The source code will be available with the first major release. It will be directly deployable with heroku, google cloud, and aws.</strong></p><p><a href=google-cloud-shell><img src=../../cloud-shell.png alt="Open in Cloud Shell"></a></p><table class=mc-table><thead><tr><th style=text-align:center><strong>Tool</strong></th><th style=text-align:center><strong>Build From Source</strong></th><th style=text-align:center><strong>Docker Image</strong></th><th style=text-align:center><strong>Binary Release</strong></th></tr></thead><tbody><tr><td style=text-align:center><strong>qsr</strong></td><td style=text-align:center><code>go install github.com/qsocket/qsocket-relay@latest</code></td><td style=text-align:center><a href=#docker-install>Download</a></td><td style=text-align:center><a href=release>Download</a></td></tr></tbody></table><hr><h2 id=usage class=header-anchor-wrapper>Usage
<a href=#usage class=header-anchor-link><svg width="16" height="16" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg></svg></a></h2><pre class="mc-prism hide language-text"><code>                                           ________________________________         
                                          /  IN &gt;                          &quot;-_          
                                         /      .  |  .    ヽ༼ຈل͜ຈ༽))&gt;=-       \          
   ༼つಠ益ಠ༽つ ─=≡ΣO))   _        _       /      : \ | / :                       \         
   __ _ ___  ___   ___| | _____| |_    /        '-___-'          ☜(❍ᴥ❍ʋ))&gt;-    \      
  / _` / __|/ _ \ / __| |/ / _ \ __|  /_________________________________________ \      
 | (_| \__ \ (_) | (__|   &lt;  __/ |_        _______| |________________________--&quot;&quot;-L 
  \__, |___/\___/ \___|_|\_\___|\__|      /       F J                              \ 
     |_|   Copyright (c) 2022 Qsocket    /       F   J                             L
  https://github.com/qsocket/           /      :'     ':   ─=≡Σ((( つ◕ل͜◕)つ         F
                                       /  OUT &lt; '-___-'                            / 
                                      /_________________________________________--&quot;

Usage: qsr

Flags:
  -h, --help             Show context-sensitive help.
  -c, --config=STRING    Config file in TOML format.
  -d, --logdir=STRING    Log directory.
  -t, --threads=5        Number of threads.
  -q, --quiet            Quiet mode. (no stdout)
  -v, --verbose          Verbose mode.
      --version

</code></pre><h2 id=qsocket-protocol class=header-anchor-wrapper>QSocket Protocol
<a href=#qsocket-protocol class=header-anchor-link><svg width="16" height="16" viewBox="0 0 24 24"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg></svg></a></h2><p>QSocket connections are initiated with a <strong>knock sequence</strong>. Knock sequence is 20 bytes long and contains <strong>128bit unique identifier</strong>, <strong>1 byte checksum</strong>, and <strong>3 byte peer identifier</strong>. After establishing a valid TLS connection, relay server expects a knock sequence for starting the QSocket session.</p><p>When the relay server receives a valid knock sequence it first checks the master relay table for the UID of the connecting peer, if the UID does not exists, it is added to the table and the client starts waiting a period of time for incoming relay requests from other peers. If there is a relay request waiting for the client key (UID), relay server creates a full duplex connection between two sockets.</p></article></div></div></main><footer><article>Copyright © 2022-2023 by QSocket</article></footer></body></html>